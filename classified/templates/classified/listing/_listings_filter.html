{% load filter_url %}

<!-- this (.mobile-filter-sidebar) part will be position fixed in mobile version -->
<aside>
    <div class="inner-box">
        <div class="categories-list  list-filter">
            <h5 class="list-title"><strong><a href="{% url 'classified:all-listings' %}">Category</a></strong></h5>
            <ul class=" list-unstyled long-list">
                {% for main_cat in MAIN_CATEGORIES %}
                {% with cat=main_cat.id|stringformat:"i"%}
                {% if "main_category="|add:cat not in NEW_FILTERS %}
                {% with new_filter="main_category="|add:cat %}
                {% with filters=NEW_FILTERS|filter_url:new_filter %}
                <li><a href='{% url "classified:filter-listings" filters %}'>
                {% endwith %}
                {% endwith %}
                {% else %}
                <li><a href='{% url "classified:filter-listings" NEW_FILTERS %}'>
                {% endif %}
                {% endwith %}

                    {% if SELECTED_MAIN_CATEGORY == main_cat %}
                    <span class="title" style="font-weight: 700; color: #000;">{{main_cat.name}}</span>
                    <span class="count pull-right" style="font-weight: 700; color: #000;">&nbsp;({{main_cat.count}})</span>

                    <ul class=" list-unstyled long-list">
                        {% for sub_cat in SUB_CATEGORIES %}
                        {% with cat=sub_cat.id|stringformat:"i"%}
                        {% if 'sub_category'|add:cat not in NEW_FILTERS %}
                        {% with new_filter="sub_category="|add:cat %}
                        {% with filters=NEW_FILTERS|filter_url:new_filter %}
                        <li><a href='{% url "classified:filter-listings" filters %}'>
                        {% endwith %}
                        {% endwith %}
                        {% else %}
                        <li><a href='{% url "classified:filter-listings" NEW_FILTERS %}'>
                            {% endif %}
                            {% endwith %}

                            {% if SELECTED_SUB_CATEGORY == sub_cat %}
                            <span class="title" style="font-weight: 700; color: #000;">{{sub_cat.name}}</span>
                            <span class="count pull-right" style="font-weight: 700; color: #000;">&nbsp;({{sub_cat.count}})</span>
                            {% else %}
                            <span class="title">{{sub_cat.name}}</span>
                            <span class="count pull-right">&nbsp;({{sub_cat.count}})</span>
                            {% endif %}
                        </a></li>
                        {% endfor %}
                    </ul>

                    {% else %}
                    <span class="title">{{main_cat.name}}</span>
                    <span class="count pull-right">&nbsp;({{main_cat.count}})</span>
                {% endif %}
                </a></li>
                {% endfor %}
            </ul>
        </div>
        <!--/.categories-list-->


        <div class="locations-list  list-filter">
            <h5 class="list-title"><strong><a href="#">Location</a></strong></h5>
            <ul class="browse-list list-unstyled long-list">
                {% for province, cities in ALL_LOCATIONS.items %}
                    {% with new_filter="province="|add:province %}
                    {% with filters=NEW_FILTERS|filter_url:new_filter %}
                    {% if SELECTED_PROVINCE == province %}
                    <li><a href='{% url "classified:filter-listings" filters %}' style="font-weight: 700; color: #000;"> {{province}} </a></li>
                    {% else %}
                    <li><a href='{% url "classified:filter-listings" filters %}'> {{province}} </a></li>
                    {% endif %}
                    {% endwith %}
                    {% endwith %}
                        {% if SELECTED_PROVINCE == province %}
                        <ul class="browse-list list-unstyled long-list">
                        {% for city in cities %}
                            {% with new_filter="city="|add:city %}
                            {% with filters=NEW_FILTERS|filter_url:new_filter %}
                            {% if SELECTED_CITY == city %}
                            <li><a href='{% url "classified:filter-listings" filters %}' style="font-weight: 700; color: #000;"> {{city}} </a></li>
                            {% else %}
                            <li><a href='{% url "classified:filter-listings" filters %}'> {{city}} </a></li>
                            {% endif %}
                            {% endwith %}
                            {% endwith %}
                        {% endfor %}
                        </ul>
                        {% endif %}
                {% endfor %}
            </ul>
        </div>
        <!--/.locations-list-->

        <div class="locations-list  list-filter">
            <h5 class="list-title"><strong><a href="#">Offer Range</a></strong></h5>

            <form role="form" class="form-inline ">
                <div class="form-group col-sm-4 no-padding">
                    <input type="text" placeholder="$ 2000 " id="minPrice" class="form-control">
                </div>
                <div class="form-group col-sm-1 no-padding text-center hidden-xs"> -</div>
                <div class="form-group col-sm-4 no-padding">
                    <input type="text" placeholder="$ 3000 " id="maxPrice" class="form-control">
                </div>
                <div class="form-group col-sm-3 no-padding">
                    <button class="btn btn-default pull-right btn-block-xs" type="submit">GO
                    </button>
                </div>
            </form>
            <div style="clear:both"></div>
        </div>
        <!--/.list-filter-->



        <div class="locations-list  list-filter">
            <h5 class="list-title"><strong><a href="#">Condition</a></strong></h5>
            <ul class="browse-list list-unstyled long-list">
                <li><a href="sub-category-sub-location.html">New <span class="count">228,705</span></a>
                </li>
                <li><a href="sub-category-sub-location.html">Used <span class="count">28,705</span></a>
                </li>
                <li><a href="sub-category-sub-location.html">None </a></li>
            </ul>
        </div>
        <!--/.list-filter-->
        <div style="clear:both"></div>

        <div class=" list-filter">
            <h5 class="list-title"><strong><a href="#"> Date Posted </a></strong></h5>

            <div class="filter-date filter-content">
                <ul>
                    <li>
                        <input type="radio" value="1" id="posted_1" name="posted">
                        <label for="posted_1">24 hours</label>
                    </li>
                    <li>
                        <input type="radio" value="3" id="posted_3" name="posted">
                        <label for="posted_3">3 days</label>
                    </li>
                    <li>
                        <input type="radio" value="7" id="posted_7" name="posted">
                        <label for="posted_7">7 days</label>
                    </li>
                    <li>
                        <input type="radio" checked="checked" value="30" id="posted_30"
                               name="posted">
                        <label for="posted_30">30 days</label>
                    </li>
                </ul>
            </div>
        </div>
        <!--/.categories-list-->

        <div class="list-filter">
            <h5 class="list-title"><strong><a href="#">Employment Type</a></strong></h5>

            <div class="filter-content filter-employment-type">
                <ul class="browse-list list-unstyled">
                    <li>
                        <input type="checkbox" id="employment_all" value="all" class="emp"
                               checked="checked">
                        <label for="employment_all">All</label>
                    </li>
                    <li>
                        <input type="checkbox" id="employment_jtft" value="jtft"
                               class="emp emp-type">
                        <label for="employment_jtft">Full Time</label>
                    </li>
                    <li>
                        <input type="checkbox" id="employment_jtpt" value="jtpt"
                               class="emp emp-type">
                        <label for="employment_jtpt">Part Time</label>
                    </li>
                    <li>
                        <input type="checkbox" id="employment_jtct" value="jtct"
                               class="emp emp-type">
                        <label for="employment_jtct">Contractor</label>
                    </li>
                    <li>
                        <input type="checkbox" id="employment_jtin" value="jtin"
                               class="emp emp-type">
                        <label for="employment_jtin">Intern</label>
                    </li>
                    <li>
                        <input type="checkbox" id="employment_jtse" value="jtse"
                               class="emp emp-type">
                        <label for="employment_jtse">Seasonal / Temp</label>
                    </li>
                </ul>
            </div>


        </div>
        <!--/.locations-list-->

        <div class="  list-filter">
            <h5 class="list-title"><strong><a href="#">Salary Pay Range</a></strong></h5>


            <div class="filter-salary filter-content ">
                <form role="form" class="form-inline ">
                    <div class="form-group col-sm-4 no-padding">
                        <input type="text" placeholder="$ 2000 " id="minPrice" class="form-control">
                    </div>
                    <div class="form-group col-sm-1 no-padding text-center hidden-xs"> -</div>
                    <div class="form-group col-sm-4 no-padding">
                        <input type="text" placeholder="$ 3000 " id="maxPrice" class="form-control">
                    </div>
                    <div class="form-group col-sm-3 no-padding">
                        <button class="btn btn-default pull-right btn-block-xs" type="submit">GO
                        </button>
                    </div>
                </form>

                <div class="clearfix"></div>

                <ul class="mt15">
                    <li>
                        <input type="radio" name="pay" id="pay_0" value="0" checked="checked">
                        <label for="pay_0">Any</label>
                    </li>
                    <li>
                        <input type="radio" name="pay" id="pay_20" value="20">
                        <label for="pay_20">$20,000+</label>
                    </li>
                    <li>
                        <input type="radio" name="pay" id="pay_40" value="40">
                        <label for="pay_40">$40,000+</label>
                    </li>
                    <li>
                        <input type="radio" name="pay" id="pay_60" value="60">
                        <label for="pay_60">$60,000+</label>
                    </li>
                    <li>
                        <input type="radio" name="pay" id="pay_80" value="80">
                        <label for="pay_80">$80,000+</label>
                    </li>
                    <li>
                        <input type="radio" name="pay" id="pay_100" value="100">
                        <label for="pay_100">$100,000+</label>
                    </li>
                    <li>
                        <input type="radio" name="pay" id="pay_120" value="120">
                        <label for="pay_120">$120,000+</label>
                    </li>
                </ul>
            </div>
            <div style="clear:both"></div>
        </div>
        <!--/.list-filter-->



        <div style="clear:both"></div>
    </div>

    <!--/.categories-list-->

</aside>